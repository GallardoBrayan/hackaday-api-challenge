<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <h2 style="text-align:center;">Supplyframe Hackaday Challenge</h2>
    <div id="wrapper">
      <table
        id="dtBasicExample"
        class="table table-striped table-bordered table-sm"
        cellspacing="0"
        width="100%"
      >
        <thead>
          <tr>
            <th style="width:14%">Name</th>
            <th style="width:14%">Owner ID</th>
            <th style="width:72%">Summary</th>
          </tr>
        </thead>
        <tbody class="table_body">
          <% for (var i=0; i < data.projects.length; i++) { %>
          <tr>
            <td><%= data.projects[i].name %></td>
            <td>
              <span class="tool-tip"><%= data.projects[i].owner_id %></span>
              <div
                id="<%= data.projects[i].owner_id %>"
                class="tool-tip-details"
              ></div>
            </td>
            <td><%= data.projects[i].summary %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
      <div id="pagination">
        <nav>
          <ul class="pagination">
            <% if (data.page == 1) { %>
            <li class="page-item disabled">
              <a class="page-link" href="javascript:void(0)">Previous</a>
            </li>
            <% } else { %>
            <li class="page-item">
              <a href="/<%= data.page-1 %>">Previous</a>
            </li>
            <% } %> <% var range =
            paginationCalculation(data.page,data.last_page)%> <% for ( num in
            range) { %> <% if (num != '...') { %>
            <li
              class="page-item <% if (data.page == range[num]) { %>
              active
              <% } %>"
            >
              <a class="page-link" href="/<%= range[num] %>"
                ><%= range[num] %></a
              >
            </li>
            <% } else { %>
            <li class="page-item">
              <a class="page-link" href="javascript:void(0)">...</a>
            </li>
            <% } %> <% } %> <% if (data.page == data.last_page) { %>
            <li class="page-item disabled">
              <a class="page-link" class="page-link" href="javascript:void(0)"
                >Next</a
              >
            </li>
            <% } else { %>
            <li class="page-item">
              <a class="page-link" href="/<%= data.page+1 %>">Next</a>
            </li>
            <% } %>
          </ul>
        </nav>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.4.0.min.js"
      integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>

    <script src="/javascripts/index.js" type="text/javascript"></script>
    <script
      defer
      src="/javascripts/paginate.js"
      type="text/javascript"
    ></script>
  </body>
</html>
